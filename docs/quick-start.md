# Quick Start: Azure Resource Manager (ARM) Template for Rubrik CloudOut

Walkthrough for completing the Azure Storage Account configuration process required for the Rubrik CloudOut to Azure.

The following tasks are completed during the workflow:

* A new storage account is created (Access and Secret Keys generated)
* A new blob container is created within the storage account

## Loading the ARM Template

Select **Create a resource** and search for **Template deployment** in the associated search box. Once available, select **Template deployment** in the search results. 

![Open Template deployment](/docs/img/image1.png)

Click **Create** to create a new template.

![Create Template](/docs/img/image2.png)

On the Custom Deployment screen, select to **Build your own template in the editor**.

![Build your own template](/docs/img/image3.png)

From the Edit template screen, select to **Load file** to import the ARM template for Rubrik CloudOut. Select the rubrik_cloudout_arm.template file in the file selection dialog.

The template file can be downloaded [here](/rubrik_cloudout_arm.template). Once imported select **Save** to move to the Custom deployment screen.

![Load template](/docs/img/image4.png)

From the Custom deployment screen, fill out all of the required inputs for the template and click **Purchase**. For information pertaining to the inputs and parameters this template uses, see the **Inputs/Parameters** section below. 

![Specify Details](/docs/img/image5.png)

Once the template has been submitted for deployment, progress can be tracked by clicking the **Deployment in progress** notification.

![Track Progress](/docs/img/image6.png)

Once the template has successfully deployed, navigate to the **Outputs** section. Here you can access all of the information needed to configure an Azure archive location from the Rubrik UI.

![Outputs](/docs/img/image7.png)

Go to the Rubrik UI, select the configuration cog, and choose **Archival Locations**. Select the plus (**+**) sign to add a new archival location.

![Add Archival Location](/docs/img/image8.png)

Follow the Rubrik CDM User Guide to complete the setup. 

## Variables/Parameters/Inputs/Outputs

This section provides information regarding the inputs and outputs used and generated by the template.

| WARNING: Azure Resource Manager is not ideponment. If any of the provided variables are not unique the template will return an error message! |
| --- |

### Input Parameters

The following parameters are required during the template deployment. Please note, by default, the location of the storage account is tied to the location of the resource group selected.

| Input Parameter          | Default | Description                                                                                                           |
|-------------------|---------|-----------------------------------------------------------------------------------------------------------------------|
| Subscription | yes     | Defaults to the Azure subscription |
| Resource Group      | n/a     | The name of the resource group to tie the storage account to.  |
| Location      | Location where selected Resource Group resides     | The location in which to create the Storage Account.  |
| Storage Account Name      | n/a     | The name of the Storage Account used as a Rubrik archival location.  |
| Account Type      | n/a     | The type of account to create.  |
| Storage Tier      | n/a     | Whether to use hot or cool storage.  |
| Container Name      | n/a     | The name of the BlobStorage container used as a Rubrik archival location.  |
### Output Parameters

The following information can used when to add the archive location to the Rubrik cluster.

| Variable         | Description                                         |
|------------------|-----------------------------------------------------|
| StorageAccountName | The name of the Storage Account created    |
| ContainerName | The name of the Blob Storage container created    |
| AccessKey    | The access keys needed in order to configure the connection between Rubrik and Azure                                 |

